{{ block title }}
<p>Please write down as many words as you can find with the letters of the word: </p>

INFUSCATE


{{ endblock }}

{{ block content }}



    <input  name="submitword" type="text" maxlength="512" minlength="4" id="submitword" class="searchField" multiple/>
    <button id="submit1" type="button" value="submit1">Submit</button>

    <p id="text1"></p>
    <p id="text2"></p>

    <script>
        const OtreeBody  = document.getElementsByClassName("otree-body")[0];
        let body         = document.createElement('div');
        

        document.addEventListener("DOMContentLoaded", function(debug=true) {
            OtreeBody.appendChild(body);
            body.appendChild(score);
            console.log("input inserted");
        });

        let vWords  = document.getElementById('submitword');
        let button  = document.getElementById('submit1');      
        
        var score        = document.createElement("input");
        score.type       = 'hidden';
        score.name       = 'score';
        score.id         = 'score';
        score.value      = '0';

    
        button.addEventListener("click", function func(){
            document.getElementById("text1").innerHTML = vWords.value;

            str1="{{solution}}";
            str2= vWords.value;
            var n = str1.localeCompare(str2);
            
            if (n == 0) {
                document.getElementById("text2").innerHTML = "correct";
                if (score.value == ""){
                        score.value = 1; 
                    } else {
                        score.value = +score.value +1;
                    } 
            } else {
                document.getElementById("text2").innerHTML = "incorrect";
                score.value = +score.value + 0;
            }
                    
            console.log(score.value) 
            return [score.value];
            
        });
        
        //console.log(score.value);
        
    </script>

    {{next_button}}
    
{{ endblock }}